import { StandardTableView, VerticalBox ,Button} from "std-widgets.slint";


export global Users {
    in property <[[StandardListViewItem]]> row_data : [
        [{text:"11"},{text:"12"},{text:"13"}],
        [{text:"21"},{text:"22"},{text:"23"}],
        [{text:"31"},{text:"32"},{text:"33"}],
    ];
    in property <bool> selected_user: false;
    in property <string> current_user;
}

export global UserDetail {
    in property <[[StandardListViewItem]]> row_data ;
    in property <string> name ;
    in property <string> login;
    in property <string> email;
}

component User inherits VerticalBox {
    in-out property <string> name;

    VerticalLayout {
        HorizontalLayout {
                alignment: LayoutAlignment.end;
                Button {text: "voltar"; 
                        clicked=> {Users.selected_user=false;}
                }
                }
    
                Text{text:root.name;}
        }
}
export component UserList inherits VerticalBox {
if !Users.selected_user: StandardTableView {
    columns:[
            {title: "name"},
            {title: "login"},
            {title: "setor"}
        ];
    rows: Users.row-data;
    row-pointer-event(index,event,_)=>{
        if event.button == PointerEventButton.left {
            Users.current_user = Users.row_data[index][0].text;
            Users.selected_user = true;
    }
    }

}       
if Users.selected_user: User{name: Users.current_user;}
}   
